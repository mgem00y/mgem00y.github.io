<html>
  <head>
    <title>Home</title>
    <link href="./output.css" rel="stylesheet" />
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        let form = document.querySelector("form");
        form.addEventListener("submit", function (event) {
          let email = document.getElementById("email").value;

          event.preventDefault();

          const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
          if (!email.match(regex)) {
            alert("Invalid email address");
            return;
          }

          fetch("https://submitemail-7ipt5b3ftq-uc.a.run.app", {
            method: "post",
            body: JSON.stringify({
              email: email,
            }),
            headers: {
              "Content-Type": "application/json",
            },
          });

          let input = document.getElementById("email");
          input.remove();

          let btn = document.querySelector("button");
          btn.remove();

          let desc = document.getElementById("description");
          desc.innerText = "Thank you for signing up!";
        });
      });
    </script>
  </head>

  <body>
    <div
      class="relative font-sans font-bold text-9xl text-gray-100 w-full h-full bg-[url('./assets/waves.png')]"
    >
      <div class="absolute top-80 left-1/4">NYC</div>
      <img
        class="absolute top-20 left-[-240px]"
        src="./assets/scattered-keys.png"
      />
      <div class="absolute top-20 left-20">KEEBS</div>
      <div class="absolute top-40 right-1/4">SHOP</div>
      <img
        class="absolute top-60 left-1/2 -translate-x-1/2"
        src="./assets/switch.png"
      />
      <div
        class="absolute w-64 bottom-1/2 right-20 text-lg font-normal uppercase"
      >
        A temporary pop-up coming soon to New york City featuring keyboards,
        switches, and keycaps
      </div>
      <div
        class="w-[400px] absolute bottom-1/4 right-20 font-normal uppercase text-lg flex flex-col gap-2"
      >
        <p id="description">Be the first to know when we open</p>
        <form
          class="flex gap-4"
          action="https://submitemail-7ipt5b3ftq-uc.a.run.app"
          method="POST"
        >
          <input
            name="email"
            id="email"
            class="w-full h-12 px-4 text-lg font-normal text-gray-800 bg-gray-100 border rounded-lg"
            type="text"
            placeholder="Your email address"
          />
          <button class="w-16 h-fit text-lg rounded-lg group">
            <img
              class="block group-hover:hidden"
              src="./assets/unselected-btn.png"
            />
            <img
              class="hidden group-hover:block"
              src="./assets/selected-btn.png"
            />
          </button>
        </form>
      </div>
    </div>
  </body>
</html>
